From 2ba525ef1f28e4d5dd514df681977b4da36f3246 Mon Sep 17 00:00:00 2001
From: garyyiu2015 <garyyiu2015@gmail.com>
Date: Wed, 13 Jun 2018 22:13:46 +0800
Subject: [PATCH] root 5s to 0s

---
 .../com/miui/permcenter/root/RootApplyActivity.smali   | 18 +++++++++++++++---
 1 file changed, 15 insertions(+), 3 deletions(-)

--- a/SecurityCenter/smali/com/miui/permcenter/root/RootApplyActivity.smali
+++ b/SecurityCenter/smali/com/miui/permcenter/root/RootApplyActivity.smali
@@ -483,11 +483,23 @@
 
     iget-object v0, p0, Lcom/miui/permcenter/root/RootApplyActivity;->mPkgName:Ljava/lang/String;
 
-    invoke-static {v0}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z
+    # invoke-static {v0}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z
 
-    move-result v0
+    # move-result v0
+
+    # if-eqz v0, :cond_0
+
+    invoke-static {p0, v0}, Lcom/miui/common/utils/PackageUtils;->loadAppLabel(Landroid/content/Context;Ljava/lang/String;)Ljava/lang/CharSequence;
 
-    if-eqz v0, :cond_0
+    move-result-object v0
+
+    iput-object v0, p0, Lcom/miui/permcenter/root/RootApplyActivity;->mAppLabel:Ljava/lang/CharSequence;
+
+    iget-object v0, p0, Lcom/miui/permcenter/root/RootApplyActivity;->mHandler:Landroid/os/Handler;
+
+    invoke-virtual {v0, v4}, Landroid/os/Handler;->removeMessages(I)V
+
+    invoke-direct {p0}, Lcom/miui/permcenter/root/RootApplyActivity;->acceptRootApply()V
 
     invoke-virtual {p0}, Lcom/miui/permcenter/root/RootApplyActivity;->finish()V
 
-- 
2.7.4

